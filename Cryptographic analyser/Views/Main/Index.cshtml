
@{
    ViewBag.Title = "Main page";
}
@model Cryptographic_analyser.Models.TablesGenerator

<div id="Table 1" class="table-wrap">
    <table>
        <tr>
            <td class="header-cell">f(m,k)</td>
            @for (var j = 0; j < Model.F.Count; j++)
            {
            <td class="header-cell">M@(j + 1)</td>
            }
        </tr>

        @for (var i = 0; i < Model.F.Count; i++)
            {
        <tr>
            <td class="header-cell">K@(i + 1)</td>
            @for (var j = 0; j < Model.F[i].Count; j++)
                {
                <td class="cell">
                    <div class="table-cell">
                        @Model.F[i][j]
                    </div>
                </td>
                }
            @*<br />*@
        </tr>
        }
    </table>
</div>

<div id="Table 2" class="table-wrap">
    <table>
        <tr>
            <td class="header-cell">P(m)</td>
            @for (var j = 0; j < Model.M.Count - 1; j++)
            {
                <td class="header-cell">M@(j + 1)</td>
            }
            <td class="header-cell">Sum</td>
        </tr>

        <tr>
            <td class="header-cell">P</td>
            @for (var i = 0; i < Model.M.Count - 1; i++)
            {
                <td class="cell">
                    <div class="table-cell">
                        @($"{Model.M[i],6:0.00}")
                    </div>
                </td>
            }
            
            @if (Math.Abs(Model.M.Last() - 1) < .009)
            {
                <td class="sum-cell-good">@($"{Model.M.Last(),6:0.00}")</td>
            }
            else
            {
                <td class="sum-cell-bad">@($"{Model.M.Last(),6:0.00}")</td>
            }
        </tr>
    </table>
</div>

<div id="Table 3" class="table-wrap">
    <table>
        <tr>
            <td class="header-cell">P(k)</td>
            @for (var j = 0; j < Model.K.Count - 1; j++)
            {
            <td class="header-cell">K@(j + 1)</td>
            }
            <td class="header-cell">Sum</td>
        </tr>

        <tr>
            <td class="header-cell">P</td>
            @for (var i = 0; i < Model.K.Count - 1; i++)
            {
            <td class="cell">
                <div class="table-cell">
                    @($"{Model.K[i],6:0.00}")
                </div>

            </td>
            }
            
            @if (Math.Abs(Model.K.Last() - 1) < .009)
            {
                <td class="sum-cell-good">@($"{Model.K.Last(),6:0.00}")</td>
            }
            else
            {
                <td class="sum-cell-bad">@($"{Model.K.Last(),6:0.00}")</td>
            }
        </tr>
    </table>
</div>

<div id="Table 4" class="table-wrap">
    <table>
        <tr>
            <td class="header-cell">Pe(m)</td>
            @for (var j = 0; j < Model.M.Count - 1; j++)
            {
                <td class="header-cell">M@(j + 1)</td>
            }
            <td class="header-cell">Sum</td>
        </tr>

        @for (var i = 0; i < Model.Table4.Count; i++)
        {
            <tr>
                <td class="header-cell">E@(i + 1)</td>
                @for (var j = 0; j < Model.Table4[i].Count - 1; j++)
                {
                    <td class="cell">
                        <div class="table-cell">
                            @($"{Model.Table4[i][j],6:0.00}")
                        </div>
                    </td>
                }

                @if (Math.Abs(Model.Table4[i].Last() - 1) < .009)
                {
                    <td class="sum-cell-good">@($"{Model.Table4[i].Last(),6:0.00}")</td>
                }
                else
                {
                    <td class="sum-cell-bad">@($"{Model.Table4[i].Last(),6:0.00}")</td>
                }
            </tr>
        }
    </table>
</div>
